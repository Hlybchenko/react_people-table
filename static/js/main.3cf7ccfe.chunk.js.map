{"version":3,"sources":["api/getData.js","components/setClassName.js","components/Person.js","components/PeopleTable.js","components/App.js","index.js"],"names":["getData","fetch","proxyUrl","then","response","json","addClassForName","person","className","born","died","addClassForPerson","concat","century","sex","age","children","length","Person","_ref","react_default","a","createElement","id","name","father","mother","PeopleTable","people","Fragment","map","components_Person","key","Object","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","Data","sent","abrupt","index","objectSpread","Math","ceil","filter","child","join","stop","apply","this","arguments","getSortBy","field","b","localeCompare","App","state","visiblePeople","isLoaded","sortField","loadData","_callee2","_context2","_this","setState","toConsumableArray","onReverseTable","prevState","reverse","onSortPeopleBy","sort","onSearchByName","event","searchField","target","value","toLowerCase","includes","_this2","_this$state","htmlFor","type","placeholder","onChange","onClick","addNewPerson","components_PeopleTable","React","Component","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.3cf7ccfe.chunk.js","sourcesContent":["const getData = () => {\n  const proxyUrl = 'https://cors-anywhere.herokuapp.com/';\n  const targetUrl = (\n    'https://mate-academy.github.io/react_people-table/api/people.json'\n  );\n\n  return fetch(proxyUrl + targetUrl)\n    .then(response => response.json());\n};\n\nexport default getData;\n","export const addClassForName = (person) => {\n  let className = '';\n\n  if (person.born < 1650) {\n    className += 'born-before-1650';\n  }\n\n  if (person.died > 1800) {\n    className += 'died-after-1800 font-weight-bolder';\n  }\n\n  return className;\n};\n\nexport const addClassForPerson = (person) => {\n  let className = `person person--lived-in-${person.century}`;\n\n  if (person.sex === 'm') {\n    className += ' person--male';\n  }\n\n  if (person.sex === 'f') {\n    className += ' person--female';\n  }\n\n  if (person.age > 65) {\n    className += ' over-65';\n  }\n\n  if (person.sex === 'f' && person.children.length > 0) {\n    className += ' person--mother';\n  }\n\n  if (person.sex === 'm' && person.children.length > 0) {\n    className += ' person--father';\n  }\n\n  return className;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { addClassForPerson, addClassForName } from './setClassName';\n\nconst Person = ({ person }) => (\n  <tr className={addClassForPerson(person)}>\n    <td>{person.id}</td>\n    <td className={addClassForName(person)}>\n      {person.name}\n    </td>\n    <td>{person.sex}</td>\n    <td>{person.born}</td>\n    <td>{person.died}</td>\n    <td>{person.age}</td>\n    <td>{person.century}</td>\n    <td>{person.father}</td>\n    <td>{person.mother}</td>\n    <td>{person.children}</td>\n  </tr>\n);\n\nPerson.propTypes = {\n  person: PropTypes.shape({\n    id: PropTypes.number,\n    name: PropTypes.string,\n    sex: PropTypes.string,\n    born: PropTypes.number,\n    died: PropTypes.number,\n    age: PropTypes.number,\n    century: PropTypes.number,\n    mother: PropTypes.string,\n    father: PropTypes.string,\n    children: PropTypes.string,\n  }).isRequired,\n};\n\nexport default Person;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Person from './Person';\n\nconst PeopleTable = ({ people }) => (\n  <>\n    {people.map(person => (\n      <Person person={person} key={person.id} />\n    ))}\n  </>\n);\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default PeopleTable;\n","import React from 'react';\nimport Data from '../api/getData';\nimport PeopleTable from './PeopleTable';\n\nimport '../style.css';\n\nconst getData = async() => {\n  const people = await Data();\n\n  return people.map((person, index) => ({\n    ...person,\n    id: index + 1,\n    age: person.died - person.born,\n    century: Math.ceil(person.died / 100),\n    children: people\n      .filter(child => (\n        child.father === person.name || child.mother === person.name\n      ))\n      .map(child => child.name)\n      .join(', '),\n  }));\n};\n\nconst getSortBy = field => (a, b) => {\n  switch (typeof a[field]) {\n    case 'string':\n      return a[field].localeCompare(b[field]);\n\n    case 'number':\n    case 'boolean':\n      return (a[field] - b[field]);\n\n    default:\n      return 0;\n  }\n};\n\nclass App extends React.Component {\n  state = {\n    people: [],\n    visiblePeople: [],\n    isLoaded: false,\n    sortField: '',\n\n  };\n\n  loadData = async() => {\n    const people = await getData();\n\n    this.setState({\n      people,\n      visiblePeople: [...people],\n      isLoaded: true,\n    });\n  };\n\n  onReverseTable = () => {\n    this.setState(prevState => ({\n      visiblePeople: prevState.visiblePeople.reverse(),\n    }));\n  };\n\n  onSortPeopleBy = (field) => {\n    field !== this.state.sortField\n      ? this.setState(prevState => ({\n        visiblePeople: prevState.visiblePeople.sort(getSortBy(field)),\n        sortField: field,\n      }))\n      : this.onReverseTable();\n  }\n\n  onSearchByName = (event) => {\n    const searchField = event.target.value;\n    this.setState(prevState => ({\n      visiblePeople: prevState.people.filter(\n        person => (\n          [person.name, person.mother, person.father]\n            .join('')\n            .toLowerCase()\n            .includes(searchField.toLowerCase())\n        )\n      ),\n    }));\n  };\n\n  render() {\n    const { visiblePeople, isLoaded } = this.state;\n    return (\n      <div className=\"page \">\n        <header className=\"text-monospace\">\n          <h1>{visiblePeople.length} People in TABLE</h1>\n        </header>\n\n        {isLoaded ? (\n          <>\n            <div className=\"filter-box\">\n              <label className=\"filter\" htmlFor=\"search\">\n                <input\n                  className=\"form-control filter-input text-monospace\"\n                  id=\"search\"\n                  type=\"text\"\n                  placeholder=\" start search by name\"\n                  onChange={this.onSearchByName}\n                />\n              </label>\n              <div className=\"add-btn\">\n                <button\n                  className=\"btn btn-outline-info text-monospace\"\n                  onClick={this.addNewPerson}\n                  type=\"button\"\n                >\n                  ✚ Add person\n                </button>\n              </div>\n            </div>\n            <table className=\"PeopleTable table-borderless\">\n              <thead className=\"table-header text-monospace\">\n                <tr>\n                  <th onClick={() => this.onSortPeopleBy(\"id\")}>ID</th>\n                  <th onClick={() => this.onSortPeopleBy(\"name\")}>Name</th>\n                  <th onClick={() => this.onSortPeopleBy(\"sex\")}>Sex</th>\n                  <th onClick={() => this.onSortPeopleBy(\"born\")}>Born</th>\n                  <th onClick={() => this.onSortPeopleBy(\"died\")}>Died</th>\n                  <th onClick={() => this.onSortPeopleBy(\"age\")}>Age</th>\n                  <th onClick={() => this.onSortPeopleBy(\"century\")}>\n                    Century\n                  </th>\n                  <th onClick={() => this.onSortPeopleBy(\"father\")}>\n                    Father\n                  </th>\n                  <th onClick={() => this.onSortPeopleBy(\"mother\")}>\n                    Mother\n                  </th>\n                  <th onClick={() => this.onSortPeopleBy(\"children\")}>\n                    Children\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"font-weight-light\">\n                <PeopleTable people={visiblePeople} />\n              </tbody>\n            </table>\n          </>\n        ) : (\n          <div className=\"start-btn\">\n            <button\n              className=\"btn btn-info btn-lg text-monospace\"\n              onClick={this.loadData}\n              type=\"button\"\n            >\n              Open TABLE\n            </button>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}