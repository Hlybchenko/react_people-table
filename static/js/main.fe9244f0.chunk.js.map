{"version":3,"sources":["api/getData.js","components/setClassName.js","components/Person.js","components/PeopleTable.js","components/App.js","index.js"],"names":["getData","fetch","proxyUrl","then","response","json","addClassForName","person","className","born","died","addClassForPerson","concat","century","sex","age","children","length","Person","_ref","react_default","a","createElement","id","name","father","mother","PeopleTable","people","Fragment","map","components_Person","key","Object","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","Data","sent","abrupt","index","objectSpread","Math","ceil","filter","child","join","stop","apply","this","arguments","getSortBy","field","b","localeCompare","App","state","visiblePeople","isLoaded","loadData","_callee2","_context2","_this","setState","toConsumableArray","reverseClick","prevState","reverse","idClick","sort","ageClick","bornClick","diedClick","centuryClick","nameClick","childrenClick","motherClick","fatherClick","sexClick","onSearchByName","event","search","target","value","toLowerCase","includes","_this$state","onClick","type","htmlFor","placeholder","onChange","addNewPerson","components_PeopleTable","React","Component","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.fe9244f0.chunk.js","sourcesContent":["const getData = () => {\n  const proxyUrl = 'https://cors-anywhere.herokuapp.com/';\n  const targetUrl = (\n    'https://mate-academy.github.io/react_people-table/api/people.json'\n  );\n\n  return fetch(proxyUrl + targetUrl)\n    .then(response => response.json());\n};\n\nexport default getData;\n","export const addClassForName = (person) => {\n  let className = '';\n\n  if (person.born < 1650) {\n    className += 'born-before-1650';\n  }\n\n  if (person.died > 1800) {\n    className += 'died-after-1800';\n  }\n\n  return className;\n};\n\nexport const addClassForPerson = (person) => {\n  let className = `person person--lived-in-${person.century}`;\n\n  if (person.sex === 'm') {\n    className += ' person--male';\n  }\n\n  if (person.sex === 'f') {\n    className += ' person--female';\n  }\n\n  if (person.age > 65) {\n    className += ' over-65';\n  }\n\n  if (person.sex === 'f' && person.children.length > 0) {\n    className += ' person--mother';\n  }\n\n  if (person.sex === 'm' && person.children.length > 0) {\n    className += ' person--father';\n  }\n\n  return className;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { addClassForPerson, addClassForName } from './setClassName';\n\nconst Person = ({ person }) => (\n  <tr className={addClassForPerson(person)}>\n    <td>{person.id}</td>\n    <td className={addClassForName(person)}>\n      {person.name}\n    </td>\n    <td>{person.sex}</td>\n    <td>{person.born}</td>\n    <td>{person.died}</td>\n    <td>{person.age}</td>\n    <td>{person.century}</td>\n    <td>{person.father}</td>\n    <td>{person.mother}</td>\n    <td>{person.children}</td>\n  </tr>\n);\n\nPerson.propTypes = {\n  person: PropTypes.shape({\n    id: PropTypes.number,\n    name: PropTypes.string,\n    sex: PropTypes.string,\n    born: PropTypes.number,\n    died: PropTypes.number,\n    age: PropTypes.number,\n    century: PropTypes.number,\n    mother: PropTypes.string,\n    father: PropTypes.string,\n    children: PropTypes.string,\n  }).isRequired,\n};\n\nexport default Person;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Person from './Person';\n\nconst PeopleTable = ({ people }) => (\n  <>\n    {people.map(person => (\n      <Person person={person} key={person.id} />\n    ))}\n  </>\n);\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default PeopleTable;\n","import React from 'react';\nimport Data from '../api/getData';\nimport PeopleTable from './PeopleTable';\n\nimport '../style.css';\n\nconst getData = async() => {\n  const people = await Data();\n\n  return people.map((person, index) => ({\n    ...person,\n    id: index + 1,\n    age: person.died - person.born,\n    century: Math.ceil(person.died / 100),\n    children: people\n      .filter(child => (\n        child.father === person.name || child.mother === person.name\n      ))\n      .map(child => child.name)\n      .join(', '),\n  }));\n};\n\nconst getSortBy = field => (a, b) => {\n  switch (typeof a[field]) {\n    case 'string':\n      return a[field].localeCompare(b[field]);\n\n    case 'number':\n    case 'boolean':\n      return a[field] - b[field];\n\n    default:\n      return 0;\n  }\n};\n\nclass App extends React.Component {\n  state = {\n    people: [],\n    visiblePeople: [],\n    isLoaded: false,\n  };\n\n  loadData = async() => {\n    const people = await getData();\n\n    this.setState({\n      people,\n      visiblePeople: [...people],\n      isLoaded: true\n    });\n  };\n\n  reverseClick = () => {\n    this.setState(prevState => ({\n      visiblePeople: prevState.visiblePeople.reverse(),\n    }));\n  };\n\n  idClick = () => {\n    this.setState(prevState => ({\n      visiblePeople: prevState.visiblePeople.sort(getSortBy('id')),\n    }));\n  };\n\n  ageClick = () => {\n    this.setState(prevState => ({\n      visiblePeople: prevState.visiblePeople.sort(getSortBy('age'))\n    }));\n  };\n\n  bornClick = () => {\n    this.setState(prevState => ({\n      visiblePeople: prevState.visiblePeople.sort(getSortBy('born')),\n    }));\n  };\n\n  diedClick = () => {\n    this.setState(prevState => ({\n      visiblePeople: prevState.visiblePeople.sort(getSortBy('died')),\n    }));\n  };\n\n  centuryClick = () => {\n    this.setState(prevState => ({\n      visiblePeople: prevState.visiblePeople.sort(getSortBy('century')),\n    }));\n  };\n\n  nameClick = () => {\n    this.setState(prevState => ({\n      visiblePeople: prevState.visiblePeople.sort(getSortBy('name')),\n    }));\n  };\n\n  childrenClick = () => {\n    this.setState(prevState => ({\n      visiblePeople: prevState.visiblePeople.sort(getSortBy('children')),\n    }));\n  };\n\n  motherClick = () => {\n    this.setState(prevState => ({\n      visiblePeople: prevState.visiblePeople.sort(getSortBy('mother')),\n    }));\n  };\n\n  fatherClick = () => {\n    this.setState(prevState => ({\n      visiblePeople: prevState.visiblePeople.sort(getSortBy('father')),\n    }));\n  };\n\n  sexClick = () => {\n    this.setState(prevState => ({\n      visiblePeople: prevState.visiblePeople.sort(getSortBy('sex')),\n    }));\n  };\n\n  onSearchByName = (event) => {\n    const search = event.target.value;\n    this.setState(prevState => ({\n      visiblePeople: prevState.people.filter(\n        person => (\n          [person.name, person.mother, person.father]\n            .join('')\n            .toLowerCase()\n            .includes(search.toLowerCase())\n        )\n      ),\n    }));\n  };\n\n  render() {\n    const { visiblePeople, isLoaded } = this.state;\n\n    return (\n      <>\n        <header>\n          <h1>\n            {visiblePeople.length}\n            {' '}\n            People in TABLE\n          </h1>\n        </header>\n\n        {isLoaded ? (\n          <>\n            <div className=\"filter-box\">\n              <div className=\"reverse-btn\">\n                <button onClick={this.reverseClick} type=\"button\">\n                  Reverse table ⇅\n                </button>\n              </div>\n              <label className=\"filter\" htmlFor=\"search\">\n                <input\n                  className=\"filter-input\"\n                  id=\"search\"\n                  type=\"text\"\n                  placeholder=\" start search by name\"\n                  onChange={this.onSearchByName}\n                />\n              </label>\n              <div className=\"add-btn\">\n                <button onClick={this.addNewPerson} type=\"button\">\n                  ✚ Add person\n                </button>\n              </div>\n            </div>\n            <table className=\"PeopleTable\">\n              <thead className=\"table-header\">\n                <tr>\n                  <th onClick={this.idClick}>ID</th>\n                  <th onClick={this.nameClick}>Name</th>\n                  <th onClick={this.sexClick}>Sex</th>\n                  <th onClick={this.bornClick}>Born</th>\n                  <th onClick={this.diedClick}>Died</th>\n                  <th onClick={this.ageClick}>Age</th>\n                  <th onClick={this.centuryClick}>Century</th>\n                  <th onClick={this.fatherClick}>Father</th>\n                  <th onClick={this.motherClick}>Mother</th>\n                  <th onClick={this.childrenClick}>Children</th>\n                </tr>\n              </thead>\n              <tbody>\n                <PeopleTable people={visiblePeople} />\n              </tbody>\n            </table>\n          </>\n        ) : (\n          <button\n            className=\"start-btn\"\n            onClick={this.loadData}\n            type=\"button\"\n          >\n            Open TABLE\n          </button>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}